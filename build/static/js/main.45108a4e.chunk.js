(this["webpackJsonpreact-reflection-board"]=this["webpackJsonpreact-reflection-board"]||[]).push([[0],{188:function(e,t,a){e.exports=a(332)},193:function(e,t,a){},194:function(e,t,a){},319:function(e,t,a){},332:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(34),c=a.n(o),l=(a(193),a(5)),i=a(6),s=a(8),u=a(7),m=a(9),d=(a(194),a(12)),p=a(1),h=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).handleNameChange=function(t){console.log(t.target.value),e.setState({name:t.target.value})},e.submitMeal=function(t){t.preventDefault(),console.log("in submitMeal");var a={type:"ADD_NAME",payload:e.state.name};console.log(e.state),e.props.dispatch(a),e.props.history.push("/food")},e.state={name:""},e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return console.log(this.state),r.a.createElement("div",{className:"form-view"},r.a.createElement(p.c,{container:!0,spacing:16},r.a.createElement(p.c,{item:!0,xs:12},r.a.createElement(p.k,{variant:"display1",align:"center",gutterBottom:!0},"Hello! What's your name?"),r.a.createElement(p.b,null,r.a.createElement(p.d,{onChange:this.handleNameChange,required:!0}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(p.a,{variant:"contained",color:"secondary",onClick:this.submitMeal},"Submit")))))}}]),t}(n.Component),g=Object(d.b)()(h),E=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).handleMealChange=function(t){console.log(t.target.value),e.setState({meal:t.target.value})},e.navigateBack=function(){e.props.history.push("/")},e.sendMealToRedux=function(t){t.preventDefault(),console.log("in submitMeal");var a={type:"ADD_MEAL",payload:e.state.meal};console.log(e.state,a),e.props.dispatch(a),e.props.history.push("/taste")},e.state={meal:""},e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return console.log(this.state),r.a.createElement("div",{className:"form-view"},r.a.createElement(p.c,{container:!0,spacing:16},r.a.createElement(p.c,{item:!0,xs:12},r.a.createElement(p.k,{variant:"display1",align:"center",gutterBottom:!0},"Hi, ",this.props.reduxStore.feedback.name,"! What did you eat for dinner?"),r.a.createElement(p.b,null,r.a.createElement(p.d,{onChange:this.handleMealChange,required:!0})," ",r.a.createElement("br",null))),r.a.createElement(p.c,{item:!0,xs:6},r.a.createElement(p.a,{variant:"contained",onClick:this.navigateBack},"Back")),r.a.createElement(p.c,{item:!0,xs:6},r.a.createElement(p.a,{variant:"contained",color:"secondary",onClick:this.sendMealToRedux},"Next"))))}}]),t}(n.Component),f=Object(d.b)((function(e){return{reduxStore:e}}))(E),v=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).handleRangeChange=function(t){e.setState({taste:t.target.value})},e.navigateBack=function(){e.props.history.push("/food")},e.sendValueToRedux=function(){var t={type:"TASTE_RATING",payload:e.state.taste};e.props.dispatch(t),e.props.history.push("/texture")},e.state={taste:0},e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"form-view"},r.a.createElement(p.c,{container:!0,spacing:16},r.a.createElement(p.c,{item:!0,xs:12},r.a.createElement(p.k,{variant:"display1",align:"center",gutterBottom:!0},"How was the ",r.a.createElement("span",{className:"emphasis-word"},"taste "),"of ",this.props.reduxStore.feedback.meal,"?"),r.a.createElement("form",null,r.a.createElement("label",null,"Terrible")," ",r.a.createElement("input",{value:this.state.taste,onChange:this.handleRangeChange,className:"slider",type:"range",min:"0",max:"10",required:!0}),r.a.createElement("label",null," Amazing")),r.a.createElement("br",null),r.a.createElement(p.k,{variant:"body2",align:"center",gutterBottomRating:!0},"Rating: ",this.state.taste)," ",r.a.createElement("br",null)),r.a.createElement(p.c,{item:!0,xs:6},r.a.createElement(p.a,{variant:"contained",onClick:this.navigateBack},"Back")),r.a.createElement(p.c,{item:!0,xs:6},r.a.createElement(p.a,{variant:"contained",color:"secondary",onClick:this.sendValueToRedux},"Next"))))}}]),t}(n.Component),b=Object(d.b)((function(e){return{reduxStore:e}}))(v),y=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).handleRangeChange=function(t){e.setState({texture:t.target.value})},e.navigateBack=function(){e.props.history.push("/taste")},e.sendValueToRedux=function(){var t={type:"TEXTURE_RATING",payload:e.state.texture};e.props.dispatch(t),e.props.history.push("/creativity")},e.state={texture:0},e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"form-view"},r.a.createElement(p.c,{container:!0,spacing:16},r.a.createElement(p.c,{item:!0,xs:12},r.a.createElement(p.k,{variant:"display1",align:"center",gutterBottom:!0},"How was the ",r.a.createElement("span",{className:"emphasis-word"},"texture "),"of ",this.props.reduxStore.feedback.meal,"?"),r.a.createElement("form",null,r.a.createElement("label",null,"Terrible")," ",r.a.createElement("input",{value:this.state.texture,onChange:this.handleRangeChange,className:"slider",type:"range",min:"0",max:"10",required:!0}),r.a.createElement("label",null," Amazing"))," ",r.a.createElement("br",null),r.a.createElement(p.k,{variant:"body2",align:"center",gutterBottom:!0},"Rating: ",this.state.texture)," ",r.a.createElement("br",null)),r.a.createElement(p.c,{item:!0,xs:6},r.a.createElement(p.a,{variant:"contained",onClick:this.navigateBack},"Back")),r.a.createElement(p.c,{item:!0,xs:6},r.a.createElement(p.a,{variant:"contained",color:"secondary",onClick:this.sendValueToRedux},"Next"))))}}]),t}(n.Component),k=Object(d.b)((function(e){return{reduxStore:e}}))(y),O=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).handleRangeChange=function(t){e.setState({creativity:t.target.value})},e.navigateBack=function(){e.props.history.push("/texture")},e.sendValueToRedux=function(){var t={type:"CREATIVITY_RATING",payload:e.state.creativity};e.props.dispatch(t),e.props.history.push("/nutrition")},e.state={creativity:0},e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"form-view"},r.a.createElement(p.c,{container:!0,spacing:16},r.a.createElement(p.c,{item:!0,xs:12},r.a.createElement(p.k,{variant:"display1",align:"center",gutterBottom:!0},"How ",r.a.createElement("span",{className:"emphasis-word"},"creative "),"was your meal of ",this.props.reduxStore.feedback.meal,"?"),r.a.createElement("form",null,r.a.createElement("label",null,"Terrible")," ",r.a.createElement("input",{value:this.state.creativity,onChange:this.handleRangeChange,className:"slider",type:"range",min:"0",max:"10",required:!0}),r.a.createElement("label",null," Amazing"),r.a.createElement("br",null)),r.a.createElement(p.k,{variant:"body2",align:"center",gutterBottom:!0},"Rating: ",this.state.creativity)," ",r.a.createElement("br",null)),r.a.createElement(p.c,{item:!0,xs:6},r.a.createElement(p.a,{variant:"contained",onClick:this.navigateBack},"Back")),r.a.createElement(p.c,{item:!0,xs:6},r.a.createElement(p.a,{variant:"contained",color:"secondary",onClick:this.sendValueToRedux},"Next"))))}}]),t}(n.Component),j=Object(d.b)((function(e){return{reduxStore:e}}))(O),x=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).handleRangeChange=function(t){e.setState({nutrition:t.target.value})},e.navigateBack=function(){e.props.history.push("/creativity")},e.sendValueToRedux=function(){var t={type:"NUTRITION_RATING",payload:e.state.nutrition};e.props.dispatch(t),e.props.history.push("/comments")},e.state={nutrition:0},e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"form-view"},r.a.createElement(p.c,{container:!0,spacing:16},r.a.createElement(p.c,{item:!0,xs:12},r.a.createElement(p.k,{variant:"display1",align:"center",gutterBottom:!0},"How ",r.a.createElement("span",{className:"emphasis-word"},"nutritious "),"was your meal of ",this.props.reduxStore.feedback.meal,"?"),r.a.createElement("form",null,r.a.createElement("label",null,"Terrible")," ",r.a.createElement("input",{value:this.state.nutrition,onChange:this.handleRangeChange,className:"slider",type:"range",min:"0",max:"10",required:!0}),r.a.createElement("label",null," Amazing"))," ",r.a.createElement("br",null),r.a.createElement(p.k,{variant:"body2",align:"center",gutterBottom:!0},"Rating: ",this.state.nutrition)," ",r.a.createElement("br",null)),r.a.createElement(p.c,{item:!0,xs:6},r.a.createElement(p.a,{variant:"contained",onClick:this.navigateBack},"Back")),r.a.createElement(p.c,{item:!0,xs:6},r.a.createElement(p.a,{variant:"contained",color:"secondary",onClick:this.sendValueToRedux},"Next"))))}}]),t}(n.Component),C=Object(d.b)((function(e){return{reduxStore:e}}))(x),T=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).handleClick=function(e){console.log("you clicked",e.target.value)},e.handleTextChange=function(t){console.log(t.target.value),e.setState({comments:t.target.value})},e.navigateBack=function(){e.props.history.push("/nutrition")},e.sendValueToRedux=function(){var t={type:"NEW_COMMENT",payload:e.state.comments};console.log(e.state.comments),e.props.dispatch(t),e.props.history.push("/submission")},e.state={comments:""},e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"form-view"},r.a.createElement(p.k,{variant:"display1",align:"center",gutterBottom:!0},"Do you have any comments about today's dinner of ",this.props.reduxStore.feedback.meal,"?"),r.a.createElement(p.c,{container:!0,spacing:16},r.a.createElement(p.c,{item:!0,xs:12},r.a.createElement(p.b,null,r.a.createElement("textarea",{onChange:this.handleTextChange}),r.a.createElement("br",null))),r.a.createElement(p.c,{item:!0,xs:6},r.a.createElement(p.a,{variant:"contained",onClick:this.navigateBack},"Back")),r.a.createElement(p.c,{item:!0,xs:6},r.a.createElement(p.a,{variant:"contained",color:"secondary",onClick:this.sendValueToRedux},"Submit"))))}}]),t}(n.Component),N=Object(d.b)((function(e){return{reduxStore:e}}))(T),R=a(26),w=a.n(R),S=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).postFeedbackToServer=function(){var e=a.props.reduxStore.feedback;console.log(e),w()({method:"POST",url:"/feedback",data:e}).then((function(e){console.log(e);a.props.dispatch({type:"CLEAR_RATING"})})).catch((function(e){console.log("Error posting feedback",e),alert("Your dinner rating did not post. Please try again.")}))},a.returnHome=function(){a.props.history.push("/")},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.postFeedbackToServer()}},{key:"render",value:function(){return r.a.createElement(p.c,null,r.a.createElement(p.c,{item:!0,xs:6},r.a.createElement("div",{className:"form-view"},r.a.createElement(p.k,{variant:"headline",align:"center",gutterBottom:!0},"Thanks for rating your dinner!",r.a.createElement("br",null),"A complete log of all ratings can be found on the ",r.a.createElement(p.a,{variant:"contained",color:"secondary",href:"/#/results"},"Ratings")," page"))),r.a.createElement(p.c,{item:!0,xs:6},r.a.createElement(p.a,{variant:"contained",color:"primary",onClick:this.returnHome},"Return Home")))}}]),t}(n.Component),B=Object(d.b)((function(e){return{reduxStore:e}}))(S),A=a(97),_=a.n(A),D=(a(319),a(96)),M=a.n(D),I=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).getCurrentRatingData=function(){w()({method:"GET",url:"/feedback"}).then((function(e){var t={type:"SET_HISTORY",payload:e.data};a.props.dispatch(t)})).catch((function(e){console.log("Error getting current ratings data",e)}))},a.flagFeedback=function(){console.log("in flag feedback");var e=a.props.dinner.id;w()({method:"PUT",url:"/feedback/"+e}).then((function(e){a.getCurrentRatingData()})).catch((function(e){console.log("Error flagging entry for review",e)}))},a.handleDelete=function(){if(window.confirm("Are you sure you want to delete ".concat(a.props.dinner.meal,"?"))){var e=a.props.dinner.id;w()({method:"DELETE",url:"/feedback/"+e}).then((function(e){a.getCurrentRatingData()})).catch((function(e){alert("Error deleting!"),console.log("Error deleting item",e)}))}},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componenTableCellidMount",value:function(){this.getCurrentRatingData()}},{key:"render",value:function(){return r.a.createElement(p.i,{className:this.props.dinner.flagged.toString(),key:this.props.i},r.a.createElement(p.g,null,this.props.dinner.name),r.a.createElement(p.g,null,this.props.dinner.meal),r.a.createElement(p.g,null,M()(this.props.dinner.date).format("MM/DD/YYYY")),r.a.createElement(p.g,null,this.props.dinner.comments),r.a.createElement(p.g,null,this.props.dinner.overall_rating),r.a.createElement(p.g,null,r.a.createElement("img",{src:"../../../../images/flag.svg",alt:"feedback required icon",onClick:this.flagFeedback})),r.a.createElement(p.g,null,r.a.createElement(_.a,{onClick:this.handleDelete})))}}]),t}(n.Component),F=Object(d.b)((function(e){return{reduxStore:e}}))(I),H={toggle:!1},G=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).getMealFeedbackHistory=function(){w()({method:"GET",url:"/feedback"}).then((function(e){var t={type:"SET_HISTORY",payload:e.data};a.props.dispatch(t)})).catch((function(e){console.log("Error setting meal feedback history",e)}))},a.sortBy=function(e){H.toggle=!H.toggle,w()({method:"PUT",url:"/sort?type=".concat(e),data:H}).then((function(e){var t={type:"SET_HISTORY",payload:e.data};a.props.dispatch(t)})).catch((function(e){console.log("Error sorting ratings data",e)}))},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getMealFeedbackHistory()}},{key:"render",value:function(){var e=this;return r.a.createElement(p.c,{container:!0,spacing:16,xs:12},r.a.createElement(p.e,null,r.a.createElement(p.h,null,r.a.createElement(p.i,null,r.a.createElement(p.g,null,r.a.createElement(p.j,{onClick:function(){return e.sortBy("name")}},"Name")),r.a.createElement(p.g,null,r.a.createElement(p.j,{onClick:function(){return e.sortBy("meal")}},"Meal")),r.a.createElement(p.g,null,r.a.createElement(p.j,{onClick:function(){return e.sortBy("date")}},"Date")),r.a.createElement(p.g,null,"Comments"),r.a.createElement(p.g,null,r.a.createElement(p.j,{onClick:function(){return e.sortBy("overall_rating")}},"Overall Rating")),r.a.createElement(p.g,null,"Flag for Review"),r.a.createElement(p.g,null,"Delete"))),r.a.createElement(p.f,null,this.props.reduxStore.mealFeedbackHistory.map((function(e,t){return r.a.createElement(F,{i:t,dinner:e})})))))}}]),t}(n.Component),V=Object(d.b)((function(e){return{reduxStore:e}}))(G),Y=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"form-view"},r.a.createElement(V,null))}}]),t}(n.Component),W=a(334),L=a(335),q=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(W.a,null,r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement(p.k,{variant:"display3",class:"header-text",gutterBottom:!0},"Dinner Diary"),r.a.createElement(p.c,{container:!0,spacing:40},r.a.createElement(p.c,{item:!0,sm:12},r.a.createElement(p.a,{href:"/",color:"primary",variant:"contained",onClick:this.goHome},"Home"),r.a.createElement("span",null,"  "),r.a.createElement(p.a,{href:"/#/results",color:"primary",variant:"contained",onClick:this.goToResults},"Ratings Log")))),r.a.createElement("br",null),r.a.createElement(L.a,{exact:!0,path:"/",component:g}),r.a.createElement(L.a,{path:"/food",component:f}),r.a.createElement(L.a,{path:"/taste",component:b}),r.a.createElement(L.a,{path:"/texture",component:k}),r.a.createElement(L.a,{path:"/creativity",component:j}),r.a.createElement(L.a,{path:"/nutrition",component:C}),r.a.createElement(L.a,{path:"/comments",component:N}),r.a.createElement(L.a,{path:"/submission",component:B}),r.a.createElement(L.a,{path:"/results",component:Y})))}}]),t}(n.Component),U=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function P(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var z=a(28),J=a(99),X=a.n(J),Q=a(24),$=a(27),K={taste:0,texture:0,creativity:0,nutrition:0,comments:"",flagged:!1,date:"",meal:"",overall_rating:0,name:""},Z=Object(z.c)({feedback:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;return"ADD_NAME"===t.type?Object($.a)({},e,{name:t.payload}):"ADD_MEAL"===t.type?Object($.a)({},e,{meal:t.payload}):"TASTE_RATING"===t.type?Object($.a)({},e,{taste:t.payload,overall_rating:Number(e.overall_rating)+Number(t.payload)}):"TEXTURE_RATING"===t.type?Object($.a)({},e,{texture:t.payload,overall_rating:Number(e.overall_rating)+Number(t.payload)}):"CREATIVITY_RATING"===t.type?Object($.a)({},e,{creativity:t.payload,overall_rating:Number(e.overall_rating)+Number(t.payload)}):"NUTRITION_RATING"===t.type?Object($.a)({},e,{nutrition:t.payload,overall_rating:Number(e.overall_rating)+Number(t.payload)}):"NEW_COMMENT"===t.type?Object($.a)({},e,{comments:t.payload}):"CLEAR_RATING"===t.type?K:e},mealFeedbackHistory:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return"SET_HISTORY"===t.type?t.payload:e}}),ee=Object(Q.createMuiTheme)({palette:{primary:{light:"#FFFFFF",main:"#0EB3AA",dark:"#FFFFFF",contrastText:"rgb(0,0,0)"}}}),te=Object(z.d)(Z,Object(z.a)(X.a));c.a.render(r.a.createElement(Q.MuiThemeProvider,{theme:ee},r.a.createElement(d.a,{store:te},r.a.createElement(q,null))),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");U?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):P(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):P(e)}))}}()}},[[188,1,2]]]);
//# sourceMappingURL=main.45108a4e.chunk.js.map